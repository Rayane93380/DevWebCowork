<!-- templates/objets_connectes/afficher_objets.html -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Objets Connectés</title>
</head>
<body>

    <h1>Objets Connectés - {{ objet_type|capfirst }}</h1>

    <div class="objets-list">
        {% for objet in objets %}
            <div class="objet">
                <h2>
                    {% if objet.salle %}
                        {{ objet.salle.nom }}
                    {% else %}
                        Salle inconnue
                    {% endif %}
                </h2>

                {% if objet_type == 'capteurpresence' %}
                    <p>Capteur de présence : {{ objet.compteur }} personnes présentes</p>
                {% elif objet_type == 'thermostat' %}
                    <p>Thermostat : Température actuelle {{ objet.temperature_courante }}°C, Température cible {{ objet.temperature_cible }}°C, Mode {{ objet.mode }}</p>
                {% elif objet_type == 'poubelle' %}
                    <p>Poubelle de type {{ objet.type_dechet }} : {{ objet.quantite_present }}L / {{ objet.capacite_maximale }}L</p>
                {% elif objet_type == 'imprimante' %}
                    <p>Imprimante : Modèle {{ objet.modele }}, État : {{ objet.etat }}, Connectivité : {{ objet.connectivite }}</p>
                    {% if objet.reservable %}
                        <a href="{% url 'reserver_objet' 'imprimante' objet.id %}">Réserver</a>
                    {% else %}
                        <span>Non disponible pour réservation</span>
                    {% endif %}
                {% elif objet_type == 'ordinateur' %}
                    <p>Ordinateur : Marque {{ objet.marque }}, Modèle {{ objet.modele }}, État : {{ objet.etat }}</p>
                    {% if objet.reservable %}
                        <a href="{% url 'reserver_objet' 'ordinateur' objet.id %}">Réserver</a>
                    {% else %}
                        <span>Non disponible pour réservation</span>
                    {% endif %}
                {% endif %}
            </div>
        {% endfor %}
    </div>

    <div>
        <a href="{% url 'dashboard' %}">Retour au tableau de bord</a>
    </div>

</body>
</html>
